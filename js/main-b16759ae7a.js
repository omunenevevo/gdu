"use strict";(function($){function multi_step_contact(){var contact=$("#multi-step-contact");if(contact.length>0){var modal=contact.find(".multi-step-content");modal.on("click",function(e){e.stopPropagation()});contact.on("click",function(e){e.preventDefault();contact.fadeOut(300);$("body").css("overflow","")});var close=contact.find(".modal-close");close.on("click",function(e){e.preventDefault();contact.fadeOut(300);$("body").css("overflow","")});var triggers=$(".multi-step-trigger");if(triggers.length>0){triggers.each(function(){$(this).on("click",function(e){e.preventDefault();e.stopPropagation();contact.fadeIn(300);$("body").css("overflow","hidden")})})}}}$(document).ready(function(){multi_step_contact()})})(jQuery);(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof module==="object"&&module.exports){module.exports=factory()}else{root.Rellax=factory()}})(typeof window!=="undefined"?window:global,function(){var Rellax=function(el,options){"use strict";var self=Object.create(Rellax.prototype);var posY=0;var screenY=0;var posX=0;var screenX=0;var blocks=[];var pause=true;var loop=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return setTimeout(callback,1000/60)};var loopId=null;var supportsPassive=false;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=true}});window.addEventListener("testPassive",null,opts);window.removeEventListener("testPassive",null,opts)}catch(e){}var clearLoop=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout;var transformProp=window.transformProp||function(){var testEl=document.createElement("div");if(testEl.style.transform===null){var vendors=["Webkit","Moz","ms"];for(var vendor in vendors){if(testEl.style[vendors[vendor]+"Transform"]!==undefined){return vendors[vendor]+"Transform"}}}return"transform"}();self.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:false,wrapper:null,relativeToWrapper:false,round:true,vertical:true,horizontal:false,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}};if(options){Object.keys(options).forEach(function(key){self.options[key]=options[key]})}function validateCustomBreakpoints(){if(self.options.breakpoints.length===3&&Array.isArray(self.options.breakpoints)){var isAscending=true;var isNumerical=true;var lastVal;self.options.breakpoints.forEach(function(i){if(typeof i!=="number")isNumerical=false;if(lastVal!==null){if(i<lastVal)isAscending=false}lastVal=i});if(isAscending&&isNumerical)return}self.options.breakpoints=[576,768,1201];console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}if(options&&options.breakpoints){validateCustomBreakpoints()}if(!el){el=".rellax"}var elements=typeof el==="string"?document.querySelectorAll(el):[el];if(elements.length>0){self.elems=elements}else{console.warn("Rellax: The elements you're trying to select don't exist.");return}if(self.options.wrapper){if(!self.options.wrapper.nodeType){var wrapper=document.querySelector(self.options.wrapper);if(wrapper){self.options.wrapper=wrapper}else{console.warn("Rellax: The wrapper you're trying to use doesn't exist.");return}}}var currentBreakpoint;var getCurrentBreakpoint=function(w){var bp=self.options.breakpoints;if(w<bp[0])return"xs";if(w>=bp[0]&&w<bp[1])return"sm";if(w>=bp[1]&&w<bp[2])return"md";return"lg"};var cacheBlocks=function(){for(var i=0;i<self.elems.length;i++){var block=createBlock(self.elems[i]);blocks.push(block)}};var init=function(){for(var i=0;i<blocks.length;i++){self.elems[i].style.cssText=blocks[i].style}blocks=[];screenY=window.innerHeight;screenX=window.innerWidth;currentBreakpoint=getCurrentBreakpoint(screenX);setPosition();cacheBlocks();animate();if(pause){window.addEventListener("resize",init);pause=false;update()}};var createBlock=function(el){var dataPercentage=el.getAttribute("data-rellax-percentage");var dataSpeed=el.getAttribute("data-rellax-speed");var dataXsSpeed=el.getAttribute("data-rellax-xs-speed");var dataMobileSpeed=el.getAttribute("data-rellax-mobile-speed");var dataTabletSpeed=el.getAttribute("data-rellax-tablet-speed");var dataDesktopSpeed=el.getAttribute("data-rellax-desktop-speed");var dataVerticalSpeed=el.getAttribute("data-rellax-vertical-speed");var dataHorizontalSpeed=el.getAttribute("data-rellax-horizontal-speed");var dataVericalScrollAxis=el.getAttribute("data-rellax-vertical-scroll-axis");var dataHorizontalScrollAxis=el.getAttribute("data-rellax-horizontal-scroll-axis");var dataZindex=el.getAttribute("data-rellax-zindex")||0;var dataMin=el.getAttribute("data-rellax-min");var dataMax=el.getAttribute("data-rellax-max");var dataMinX=el.getAttribute("data-rellax-min-x");var dataMaxX=el.getAttribute("data-rellax-max-x");var dataMinY=el.getAttribute("data-rellax-min-y");var dataMaxY=el.getAttribute("data-rellax-max-y");var mapBreakpoints;var breakpoints=true;if(!dataXsSpeed&&!dataMobileSpeed&&!dataTabletSpeed&&!dataDesktopSpeed){breakpoints=false}else{mapBreakpoints={"xs":dataXsSpeed,"sm":dataMobileSpeed,"md":dataTabletSpeed,"lg":dataDesktopSpeed}}var wrapperPosY=self.options.wrapper?self.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(self.options.relativeToWrapper){var scrollPosY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;wrapperPosY=scrollPosY-self.options.wrapper.offsetTop}var posY=self.options.vertical?dataPercentage||self.options.center?wrapperPosY:0:0;var posX=self.options.horizontal?dataPercentage||self.options.center?self.options.wrapper?self.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0:0;var blockTop=posY+el.getBoundingClientRect().top;var blockHeight=el.clientHeight||el.offsetHeight||el.scrollHeight;var blockLeft=posX+el.getBoundingClientRect().left;var blockWidth=el.clientWidth||el.offsetWidth||el.scrollWidth;var percentageY=dataPercentage?dataPercentage:(posY-blockTop+screenY)/(blockHeight+screenY);var percentageX=dataPercentage?dataPercentage:(posX-blockLeft+screenX)/(blockWidth+screenX);if(self.options.center){percentageX=0.5;percentageY=0.5}var speed=breakpoints&&mapBreakpoints[currentBreakpoint]!==null?Number(mapBreakpoints[currentBreakpoint]):dataSpeed?dataSpeed:self.options.speed;var verticalSpeed=dataVerticalSpeed?dataVerticalSpeed:self.options.verticalSpeed;var horizontalSpeed=dataHorizontalSpeed?dataHorizontalSpeed:self.options.horizontalSpeed;var verticalScrollAxis=dataVericalScrollAxis?dataVericalScrollAxis:self.options.verticalScrollAxis;var horizontalScrollAxis=dataHorizontalScrollAxis?dataHorizontalScrollAxis:self.options.horizontalScrollAxis;var bases=updatePosition(percentageX,percentageY,speed,verticalSpeed,horizontalSpeed);var style=el.style.cssText;var transform="";var searchResult=/transform\s*:/i.exec(style);if(searchResult){var index=searchResult.index;var trimmedStyle=style.slice(index);var delimiter=trimmedStyle.indexOf(";");if(delimiter){transform=" "+trimmedStyle.slice(11,delimiter).replace(/\s/g,"")}else{transform=" "+trimmedStyle.slice(11).replace(/\s/g,"")}}return{baseX:bases.x,baseY:bases.y,top:blockTop,left:blockLeft,height:blockHeight,width:blockWidth,speed:speed,verticalSpeed:verticalSpeed,horizontalSpeed:horizontalSpeed,verticalScrollAxis:verticalScrollAxis,horizontalScrollAxis:horizontalScrollAxis,style:style,transform:transform,zindex:dataZindex,min:dataMin,max:dataMax,minX:dataMinX,maxX:dataMaxX,minY:dataMinY,maxY:dataMaxY}};var setPosition=function(){var oldY=posY;var oldX=posX;posY=self.options.wrapper?self.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;posX=self.options.wrapper?self.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset;if(self.options.relativeToWrapper){var scrollPosY=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;posY=scrollPosY-self.options.wrapper.offsetTop}if(oldY!=posY&&self.options.vertical){return true}if(oldX!=posX&&self.options.horizontal){return true}return false};var updatePosition=function(percentageX,percentageY,speed,verticalSpeed,horizontalSpeed){var result={};var valueX=(horizontalSpeed?horizontalSpeed:speed)*(100*(1-percentageX));var valueY=(verticalSpeed?verticalSpeed:speed)*(100*(1-percentageY));result.x=self.options.round?Math.round(valueX):Math.round(valueX*100)/100;result.y=self.options.round?Math.round(valueY):Math.round(valueY*100)/100;return result};var deferredUpdate=function(){window.removeEventListener("resize",deferredUpdate);window.removeEventListener("orientationchange",deferredUpdate);(self.options.wrapper?self.options.wrapper:window).removeEventListener("scroll",deferredUpdate);(self.options.wrapper?self.options.wrapper:document).removeEventListener("touchmove",deferredUpdate);loopId=loop(update)};var update=function(){if(setPosition()&&pause===false){animate();loopId=loop(update)}else{loopId=null;window.addEventListener("resize",deferredUpdate);window.addEventListener("orientationchange",deferredUpdate);(self.options.wrapper?self.options.wrapper:window).addEventListener("scroll",deferredUpdate,supportsPassive?{passive:true}:false);(self.options.wrapper?self.options.wrapper:document).addEventListener("touchmove",deferredUpdate,supportsPassive?{passive:true}:false)}};var animate=function(){var positions;for(var i=0;i<self.elems.length;i++){var verticalScrollAxis=blocks[i].verticalScrollAxis.toLowerCase();var horizontalScrollAxis=blocks[i].horizontalScrollAxis.toLowerCase();var verticalScrollX=verticalScrollAxis.indexOf("x")!=-1?posY:0;var verticalScrollY=verticalScrollAxis.indexOf("y")!=-1?posY:0;var horizontalScrollX=horizontalScrollAxis.indexOf("x")!=-1?posX:0;var horizontalScrollY=horizontalScrollAxis.indexOf("y")!=-1?posX:0;var percentageY=(verticalScrollY+horizontalScrollY-blocks[i].top+screenY)/(blocks[i].height+screenY);var percentageX=(verticalScrollX+horizontalScrollX-blocks[i].left+screenX)/(blocks[i].width+screenX);positions=updatePosition(percentageX,percentageY,blocks[i].speed,blocks[i].verticalSpeed,blocks[i].horizontalSpeed);var positionY=positions.y-blocks[i].baseY;var positionX=positions.x-blocks[i].baseX;if(blocks[i].min!==null){if(self.options.vertical&&!self.options.horizontal){positionY=positionY<=blocks[i].min?blocks[i].min:positionY}if(self.options.horizontal&&!self.options.vertical){positionX=positionX<=blocks[i].min?blocks[i].min:positionX}}if(blocks[i].minY!=null){positionY=positionY<=blocks[i].minY?blocks[i].minY:positionY}if(blocks[i].minX!=null){positionX=positionX<=blocks[i].minX?blocks[i].minX:positionX}if(blocks[i].max!==null){if(self.options.vertical&&!self.options.horizontal){positionY=positionY>=blocks[i].max?blocks[i].max:positionY}if(self.options.horizontal&&!self.options.vertical){positionX=positionX>=blocks[i].max?blocks[i].max:positionX}}if(blocks[i].maxY!=null){positionY=positionY>=blocks[i].maxY?blocks[i].maxY:positionY}if(blocks[i].maxX!=null){positionX=positionX>=blocks[i].maxX?blocks[i].maxX:positionX}var zindex=blocks[i].zindex;var translate="translate3d("+(self.options.horizontal?positionX:"0")+"px,"+(self.options.vertical?positionY:"0")+"px,"+zindex+"px) "+blocks[i].transform;self.elems[i].style[transformProp]=translate}self.options.callback(positions)};self.destroy=function(){for(var i=0;i<self.elems.length;i++){self.elems[i].style.cssText=blocks[i].style}if(!pause){window.removeEventListener("resize",init);pause=true}clearLoop(loopId);loopId=null};init();self.refresh=init;return self};return Rellax});"use strict";var $=jQuery;window.BrvWaypoints=function(){var waypoints=[];var bwp=this;var curWaypoint=-1;var windowHeight=$(window).height();var scrollOffset=windowHeight/2;this.measure=function(){windowHeight=$(window).height();scrollOffset=windowHeight/2};this.setup=function(){$("a[name]").each(function(){waypoints.push({id:$(this).attr("name"),start:$(this).offset().top,end:0})});if(waypoints.length>0){waypoints[0].start=0;for(var i=0;i<waypoints.length;i++){if(i==waypoints.length-1){waypoints[i].end=$(document).height()}else{waypoints[i].end=waypoints[i+1].start-1}}}this.measure()};this.insideWaypoint=function(scrollPos,index){return scrollPos>=waypoints[index].start&&scrollPos<=waypoints[index].end};this.update=function(){var scrollPos=$(window).scrollTop()+scrollOffset;var found=false;var i;var nextWaypoint=-1;for(i=curWaypoint-1;i<curWaypoint+1;i++){if(i<0)continue;if(i>=waypoints.length)continue;if(bwp.insideWaypoint(scrollPos,i)){found=true;nextWaypoint=i;break}}if(!found){for(i=waypoints.length-1;i>=0;i--){if(bwp.insideWaypoint(scrollPos,i)){nextWaypoint=i;break}}}if(nextWaypoint==-1)return;if(nextWaypoint!=curWaypoint){$(document).trigger("waypoint-changed",[waypoints[nextWaypoint],curWaypoint>-1?waypoints[curWaypoint]:false]);curWaypoint=nextWaypoint}};this.setup();if(waypoints.length==0)return;$(window).scroll(this.update);$(window).resize(function(){bwp.measure();bwp.update()});setTimeout(this.update,10)};function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){func.apply(context,args)}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){func.apply(context,args)}}}(function($){function rellax(){if($(window).width()>1440){$(".rellax-fastest").removeClass("rellax-fastest").addClass("rellax").attr("data-rellax-speed","5");$(".rellax-faster").removeClass("rellax-faster").addClass("rellax").attr("data-rellax-speed","3");$(".rellax-fast").removeClass("rellax-fast").addClass("rellax").attr("data-rellax-speed","1");$(".rellax-slow").removeClass("rellax-slow").addClass("rellax").attr("data-rellax-speed","-1");$(".rellax-slower").removeClass("rellax-slower").addClass("rellax").attr("data-rellax-speed","-3");$(".rellax-slowest").removeClass("rellax-slowest").addClass("rellax").attr("data-rellax-speed","-5");var rellax=new Rellax(".rellax",{center:true})}}function braveSyntaxHighlight(){if(hljs){hljs.initHighlighting()}}function counters(){$(".counter").each(function(){var $this=$(this),countTo=$this.attr("data-count");$({countNum:$this.text()}).animate({countNum:countTo},{duration:2000,easing:"linear",step:function(){$this.text(Math.floor(this.countNum))},complete:function(){$this.text(this.countNum)}})})}function headerScrolling(){var $topnav=$("header.banner");var origheaderpos=Math.max(0,$topnav.position().top);var headerpos=origheaderpos;var headerheight=$topnav.outerHeight();var oldscrolltop=0;if($topnav.hasClass("hidebydefault"))$topnav.css("top",-headerheight+"px");$(".headerspacer").css("height",headerheight+"px");$(window).scroll(function(){var scroll=$(this).scrollTop();if(scroll<0)scroll=0;var delta=scroll-oldscrolltop;var newheaderpos=headerpos-delta;if(newheaderpos<origheaderpos-headerheight)newheaderpos=origheaderpos-headerheight;if(newheaderpos>origheaderpos)newheaderpos=origheaderpos;if(newheaderpos!==headerpos){headerpos=newheaderpos;$topnav.css("top",headerpos+"px")}oldscrolltop=scroll});$(window).scroll()}function headerFunctionality(){$(".nav-primary .mobile-toggle").click(function(event){event.preventDefault();$(this).parent(".nav-primary").toggleClass("open");$(this).siblings(".menu-top-navigation-container").children("#menu-top-navigation").toggleClass("open")})}function anchorSmoothScrolling(){var gotoAnchor=function(pathname,hostname,hash){if(location.pathname.replace(/^\//,"")==pathname.replace(/^\//,"")&&location.hostname==hostname){var target=$(hash);target=target.length?target:$("[name="+hash.slice(1)+"]");if(target.length){var frmtop=$(".frame-top");var offset=frmtop.is(":visible")?frmtop.height()+16:16;$("html, body").animate({scrollTop:target.offset().top-offset},1000,function(){var $target=$(target);$target.focus();if($target.is(":focus")){return false}else{$target.attr("tabindex","-1");$target.focus()}});return true}}return false};$("a[href*=\"#\"]").not("[href=\"#\"]").not("[href=\"#0\"]").click(function(event){if(gotoAnchor(this.pathname,this.hostname,this.hash)){event.preventDefault()}});$(document).on("scrollToHash",function(e){if(location.hash&&location.hash.length>1){gotoAnchor(location.pathname,location.hostname,location.hash)}});$(document).on("scrollToAnchor",function(e,anchorname){gotoAnchor(location.pathname,location.hostname,"#"+anchorname)})}function stickyWaypoints(){window.waypoints=new window.BrvWaypoints;var scrollingIndex=$(".brv-scrolling-index");scrollingIndex.each(function(){var anchors=$(this).find("a[data-anchor]");$(document).on("waypoint-changed",function(e,curWaypoint,prevWaypoint){anchors.removeClass("active");anchors.filter("a[data-anchor=\""+curWaypoint.id+"\"]").addClass("active")})})}function braveBackgroundText(){$(".brave-background-text").each(function(index,el){var parentHeight=$(el).parents(".panel-grid").outerHeight();$(el).height(parentHeight);$(el).find(".background-heading").css("font-size",parentHeight*1.2)})}function braveFeaturedPostsTriggerReflow(){$(".brv-featured-posts").trigger("reflow")}function braveFeaturedPosts(){$("body").on("reflow",".brv-featured-posts",function(e){$(this).find(".brv-featured-post").each(function(){var outerhgt=$(this).outerHeight();var content=$(this).find(".content-holder");content.find(".excerpt").css("max-height","none");var contentheight=content.outerHeight();content.find(".excerpt").css("max-height","");if(outerhgt<contentheight){content.css("top","");return}content.css("top",Math.round((outerhgt/2-contentheight/2)/outerhgt*100)+"%")})});braveFeaturedPostsTriggerReflow()}function typingEffect(){var TxtRotate=function(el,toRotate,period){this.toRotate=toRotate;this.el=el;this.loopNum=0;this.period=parseInt(period,10)||2000;this.txt="";this.tick();this.isDeleting=false};TxtRotate.prototype.tick=function(){var i=this.loopNum%this.toRotate.length;var fullTxt=this.toRotate[i];if(this.isDeleting){this.txt=fullTxt.substring(0,this.txt.length-1)}else{this.txt=fullTxt.substring(0,this.txt.length+1)}this.el.innerHTML="<span class=\"wrap\">"+this.txt+"</span>";var that=this;var delta=300-Math.random()*100;if(this.isDeleting){delta*=0.5}if(!this.isDeleting&&this.txt===fullTxt){delta=this.period;this.isDeleting=true}else if(this.isDeleting&&this.txt===""){this.isDeleting=false;this.loopNum++;delta=500}setTimeout(function(){that.tick()},delta)};$(".txt-rotate[data-rotate]").each(function(e){var $this=$(this);var toRotate=JSON.parse($this.attr("data-rotate"));var period=$this.attr("data-period");if(toRotate){new TxtRotate($this.get(0),toRotate,period)}})}function braveFilterablePosts(){$(".brv-filterable-posts").each(function(){var filterableposts=$(this);var filters=$(this).find(".brv-scrolling-index a");var posts=$(this).find(".posts");var currentFilter;filterableposts.on("filter",function(event,thisFilter){if(thisFilter=="all")thisFilter="";if(thisFilter!=currentFilter){filters.removeClass("active");currentFilter=thisFilter;window.location.hash="#"+currentFilter;var currentAnchor=filters.filter("[data-anchor=\""+(currentFilter==""?"all":currentFilter)+"\"]").addClass("active");var mode=posts.attr("data-mode");posts.addClass("loading");$(".brave-header .sub-title").addClass("loading");$.ajax({url:window.bravepress.ajax,data:{action:"brv_filterable_posts",filters:[thisFilter],mode:mode},method:"POST"}).done(function(data){$(".brave-header .sub-title").removeClass("loading").html(currentAnchor.text());posts.html(data).removeClass("loading");posts.find(".brv-featured-posts").trigger("reflow");$(window).scrollTop(0)}).fail(function(xhr,status,error){$(".brave-header .sub-title").removeClass("loading").html(currentAnchor.text());posts.removeClass("loading");posts.find(".brv-featured-posts").trigger("reflow")})}});filters.click(function(){var thisFilter=$(this).attr("data-anchor");filterableposts.trigger("filter",thisFilter)});filterableposts.trigger("filter",window.location.hash.substring(1))})}var BraveJSFunctions={"common":{init:function(){},finalize:function(){counters();headerFunctionality();headerScrolling();anchorSmoothScrolling();typingEffect();braveFeaturedPosts();braveFilterablePosts()},loaded:function(){rellax();stickyWaypoints();braveFeaturedPostsTriggerReflow()}}};var UTIL={fire:function(func,funcname,args){var fire;var namespace=BraveJSFunctions;funcname=funcname===undefined?"init":funcname;fire=func!=="";fire=fire&&namespace[func];fire=fire&&typeof namespace[func][funcname]==="function";if(fire){namespace[func][funcname](args)}},loadEvents:function(){UTIL.fire("common","init");$.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(i,classnm){UTIL.fire(classnm);UTIL.fire(classnm,"finalize")});UTIL.fire("common","finalize")},finishedLoadingEvents:function(){UTIL.fire("common","loaded");$.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(i,classnm){UTIL.fire(classnm,"loaded")})}};$(document).ready(UTIL.loadEvents);$(window).load(UTIL.finishedLoadingEvents)})(jQuery);